<!DOCTYPE HTML>

<html>
    <head>
        
            
                <title>wordpress database syncing/migration</title>
            
        

        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <meta name="generator" content="Hugo 0.23" />
        


        
            <meta name="author" content="JMN">
        
        
            <meta name="description" content="In which we take a look at keeping a WordPress database synced across environments">
        

        

  <meta name="twitter:card" content="summary"/>



<meta name="twitter:text:title" content="wordpress database syncing/migration"/>
<meta name="twitter:title" content="wordpress database syncing/migration"/>
<meta name="twitter:description" content="In which we take a look at keeping a WordPress database synced across environments"/>


        <meta property="og:title" content="wordpress database syncing/migration" />
<meta property="og:description" content="In which we take a look at keeping a WordPress database synced across environments" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://jmnofziger.github.io/journal/post/wordpress-database-syncing/" />



<meta property="article:published_time" content="2017-06-03T23:47:51-07:00"/>
<meta property="article:modified_time" content="2017-06-03T23:47:51-07:00"/>











        
<meta itemprop="name" content="wordpress database syncing/migration">
<meta itemprop="description" content="In which we take a look at keeping a WordPress database synced across environments">


<meta itemprop="dateModified" content="2017-06-03T23:47:51-07:00" />
<meta itemprop="wordCount" content="916">



<meta itemprop="keywords" content="Music,Personal,Tech," />

        

        

        
        
            <link rel="stylesheet" href="/journal/css/google-font.css" />
            <link rel="stylesheet" href="/journal/css/font-awesome.min.css" />
            <link rel="stylesheet" href="/journal/css/main.css" />
            <link rel="stylesheet" href="/journal/css/add-on.css" />
            <link rel="stylesheet" href="/journal/css/monokai-sublime.css">
        

        

        
        
        
            
        
    </head>
    <body>

        
        <div id="wrapper">

    
    
<header id="header">
    
        <h2><a href="/journal/">JMNofziger</i></a></h2>
    

    <nav class="links">
        <ul>
            
                <li>
                    <a href="/journal/post/">
                        
                            <i class="fa fa-newspaper-o">&nbsp;</i>All Posts
                    </a>
                </li>
            
                <li>
                    <a href="/journal/categories/">
                        Categories
                    </a>
                </li>
            
                <li>
                    <a href="https://jmnofziger.github.io/">
                        About
                    </a>
                </li>
            
        </ul>
    </nav>
    <nav class="main">
        <ul>
            
            <li id="share-nav" class="share-menu" style="display:none;">
                <a class="fa-share-alt" href="#share-menu">Share</a>
            </li>
            
            <li class="search">
                <a class="fa-search" href="#search">Search</a>
                <form id="search" method="get" action="//google.com/search">
                    <input type="text" name="q" placeholder="Search" />
                    <input type="hidden" name="as_sitesearch" value="https://jmnofziger.github.io/journal/">
                </form>
            </li>
            <li class="menu">
                <a class="fa-bars" href="#menu">Menu</a>
            </li>
        </ul>
    </nav>
</header>


<section id="menu">

    
        <section>
            <form class="search" method="get" action="//google.com/search">
                <input type="text" name="q" placeholder="Search" />
                <input type="hidden" name="q" value="site:https://jmnofziger.github.io/journal/">
            </form>
        </section>

    
        <section>
            <ul class="links">
                
                    <li>
                        <a href="/journal/post/">
                            <h3>
                                
                                    <i class="fa fa-newspaper-o">&nbsp;</i>
                                
                                All Posts
                            </h3>
                        </a>
                    </li>
                
                    <li>
                        <a href="/journal/categories/">
                            <h3>
                                
                                Categories
                            </h3>
                        </a>
                    </li>
                
                    <li>
                        <a href="https://jmnofziger.github.io/">
                            <h3>
                                
                                About
                            </h3>
                        </a>
                    </li>
                
            </ul>
        </section>

    
        <section>
            <ul class="links">
                <header>
                    <h3>Recent Posts</h3>
                </header>
                
                    
                

                
                    <li>
                        <a href="https://jmnofziger.github.io/journal/post/improving-arch-aur-installs/"><p>improving arch aur installs</p></a>
                    </li>
                
                    <li>
                        <a href="https://jmnofziger.github.io/journal/post/wordpress-database-syncing/"><p>wordpress database syncing/migration</p></a>
                    </li>
                
                    <li>
                        <a href="https://jmnofziger.github.io/journal/post/init-sopping-up-the-mess/"><p>Initiate Planning Sequence: Sopping Up The Mess</p></a>
                    </li>
                
                    <li>
                        <a href="https://jmnofziger.github.io/journal/post/end-of-may-update/"><p>End Of May Update</p></a>
                    </li>
                
                    <li>
                        <a href="https://jmnofziger.github.io/journal/post/django-models-and-deploy/"><p>Django Models and Deployment</p></a>
                    </li>
                
            </ul>
        </section>

    
        
</section>

    <section id="share-menu">
    <section id="social-share-nav">
        <ul class="links">
            <header>
                <h3>Share this post <i class="fa fa-smile-o"></i></h3>
            </header>
            


<li><a href="//twitter.com/share?url=https%3a%2f%2fjmnofziger.github.io%2fjournal%2fpost%2fwordpress-database-syncing%2f&text=wordpress%20database%20syncing%2fmigration&via=" target="_blank" class="share-btn twitter">
    <i class="fa fa-twitter"></i>
    <p>Twitter</p>
</a></li>


<li><a href="//plus.google.com/share?url=https%3a%2f%2fjmnofziger.github.io%2fjournal%2fpost%2fwordpress-database-syncing%2f" target="_blank" class="share-btn google-plus">
    <i class="fa fa-google-plus"></i>
    <p>Google+</p>
</a></li>


<li><a href="//www.facebook.com/sharer/sharer.php?u=https%3a%2f%2fjmnofziger.github.io%2fjournal%2fpost%2fwordpress-database-syncing%2f" target="_blank" class="share-btn facebook">
    <i class="fa fa-facebook"></i>
    <p>Facebook</p>
</a></li>


<li><a href="//reddit.com/submit?url=https%3a%2f%2fjmnofziger.github.io%2fjournal%2fpost%2fwordpress-database-syncing%2f&title=wordpress%20database%20syncing%2fmigration" target="_blank" class="share-btn reddit">
    <i class="fa fa-reddit-alien"></i>
    <p>Reddit</p>
</a></li>


<li><a href="//www.linkedin.com/shareArticle?url=https%3a%2f%2fjmnofziger.github.io%2fjournal%2fpost%2fwordpress-database-syncing%2f&title=wordpress%20database%20syncing%2fmigration" target="_blank" class="share-btn linkedin">
    <i class="fa fa-linkedin"></i>
    <p>LinkedIn</p>
</a></li>


<li><a href="//www.stumbleupon.com/submit?url=https%3a%2f%2fjmnofziger.github.io%2fjournal%2fpost%2fwordpress-database-syncing%2f&title=wordpress%20database%20syncing%2fmigration" target="_blank" class="share-btn stumbleupon">
    <i class="fa fa-stumbleupon"></i>
    <p>StumbleUpon</p>
</a></li>


<li><a href="mailto:?subject=Check out this post by JMN&body=https%3a%2f%2fjmnofziger.github.io%2fjournal%2fpost%2fwordpress-database-syncing%2f" target="_blank" class="share-btn email">
    <i class="fa fa-envelope"></i>
    <p>Email</p>
</a></li>

        </ul>
    </section>
</section>

    
    <div id="main">
        
        
        <article class="post">
    <header>
    <div class="title">
        
            <h1><a href="https://jmnofziger.github.io/journal/post/wordpress-database-syncing/">wordpress database syncing/migration</a></h1>
            
        
        
            <p>In which we take a look at keeping a WordPress database synced across environments</p>
        
    </div>
    <div class="meta">
        
            
        

        <time class="published"
            datetime='2017-06-03'>
            June 3, 2017</time>
        <span class="author">JMN</span>
        
            <p>5 minute read</p>
        
        
    </div>
</header>


    <section id="social-share">
        <ul class="icons">
            


<li><a href="//twitter.com/share?url=https%3a%2f%2fjmnofziger.github.io%2fjournal%2fpost%2fwordpress-database-syncing%2f&text=wordpress%20database%20syncing%2fmigration&via=" target="_blank" class="share-btn twitter">
    <i class="fa fa-twitter"></i>
    <p>Twitter</p>
</a></li>


<li><a href="//plus.google.com/share?url=https%3a%2f%2fjmnofziger.github.io%2fjournal%2fpost%2fwordpress-database-syncing%2f" target="_blank" class="share-btn google-plus">
    <i class="fa fa-google-plus"></i>
    <p>Google+</p>
</a></li>


<li><a href="//www.facebook.com/sharer/sharer.php?u=https%3a%2f%2fjmnofziger.github.io%2fjournal%2fpost%2fwordpress-database-syncing%2f" target="_blank" class="share-btn facebook">
    <i class="fa fa-facebook"></i>
    <p>Facebook</p>
</a></li>


<li><a href="//reddit.com/submit?url=https%3a%2f%2fjmnofziger.github.io%2fjournal%2fpost%2fwordpress-database-syncing%2f&title=wordpress%20database%20syncing%2fmigration" target="_blank" class="share-btn reddit">
    <i class="fa fa-reddit-alien"></i>
    <p>Reddit</p>
</a></li>


<li><a href="//www.linkedin.com/shareArticle?url=https%3a%2f%2fjmnofziger.github.io%2fjournal%2fpost%2fwordpress-database-syncing%2f&title=wordpress%20database%20syncing%2fmigration" target="_blank" class="share-btn linkedin">
    <i class="fa fa-linkedin"></i>
    <p>LinkedIn</p>
</a></li>


<li><a href="//www.stumbleupon.com/submit?url=https%3a%2f%2fjmnofziger.github.io%2fjournal%2fpost%2fwordpress-database-syncing%2f&title=wordpress%20database%20syncing%2fmigration" target="_blank" class="share-btn stumbleupon">
    <i class="fa fa-stumbleupon"></i>
    <p>StumbleUpon</p>
</a></li>


<li><a href="mailto:?subject=Check out this post by JMN&body=https%3a%2f%2fjmnofziger.github.io%2fjournal%2fpost%2fwordpress-database-syncing%2f" target="_blank" class="share-btn email">
    <i class="fa fa-envelope"></i>
    <p>Email</p>
</a></li>

        </ul>
    </section>
    

    <div id="content">
        

<p>WordPress. A PHP based CMS with a MySQL database that generates pages as they are requested. Reviled. Loved. Free. Open Source. The most used content management system on the WWW. Make or choose any obnoxious plugin you want. Complain about that free plugin not being maintained well.</p>

<p>Whatever. Setting up a local development environment for WordPress (WP) has always been harder than it should have been for me but I won&rsquo;t be covering that here. Instead, I&rsquo;ll just give you a little peek into the way I keep my local, remote, and production site in sync and under version control. I expect the reader to have an understanding of the way that WordPress connects to it&rsquo;s database and how their server uses PHP to generate their WP pages.</p>

<p>I&rsquo;m working with an installation of Arch Linux, wp-cli v.1.2.1, and wp-sync-db v.1.5, PHP v.7.1.6</p>

<h3 id="the-tools">The tools:</h3>

<ul>
<li>Git</li>
<li>wp-cli</li>
<li>WP Sync DB</li>
</ul>

<h3 id="the-flow">The flow:</h3>

<p>In my case, I will be the only one developing so I do all my work locally and then push up my changes to the staging server afterward.</p>

<h3 id="problems-to-consider">Problems to consider:</h3>

<p>You have the exact same version of PHP on your local machine than what you run on your production server. You have the exact versions of MySQL, your web server, and the config files are different too. Wait, you don&rsquo;t? Nooooo, this is going to require more attention than I anticipated. You&rsquo;ll still have to consider the differences in your development and production environments as you develop and troubleshoot. This is why I won&rsquo;t be covering local dev environment setup.</p>

<p>Here are some solutions from reputable sources that have been recommended to me but that I HAVEN&rsquo;T USED: You could also consider using <a href="https://www.vagrantup.com/intro/index.html">Vagrant</a> to mirror your production server environment. Here&rsquo;s a thorough <a href="https://www.smashingmagazine.com/2015/07/development-to-deployment-workflow/">Smashing Magazine article</a> that walks you through that. It looks very GUI but hey, they at least they hold your hand.</p>

<h3 id="down-to-it">Down to it:</h3>

<p>We&rsquo;ll assume we&rsquo;re starting a project from scratch. I initialize git in my working directory and then connect it to a github repository. Then I get into that project directory, and use wp-cli to drop in a freshly downloaded WP core.</p>

<p>Did you know how convenient <a href="http://wp-cli.org/">wp-cli</a> was?</p>

<p>The wp-cli tool allows you to download, configure, install, and manage your WordPress site from the comfort of your commandline. It&rsquo;s a wonderful tool that will save you tons of time. Forget clicking through multiple menus and waiting for windows to load in order to just change a users password. It has tons of features and you can include commands in your scripts to automate site setup or user set up or plugin updates or &hellip;</p>

<p>Alright, now you have the WordPress core downloaded into your folder. You then set up a database, link your database to your WP site by putting your credentials in your wp-config.php file, and installing. With the exception of the database creation, all those steps can be done with wp-cli.</p>

<p>We also need to make sure our .gitignore file is ignoring our wp-config.php file since we will have a different database in our different environments. In this setup we&rsquo;ll also push uploads across our local and remote sites but we&rsquo;ll do that using the wp-sync tool. We also install our wp-sync plugin.</p>

<p>A quick overview of the <a href="https://github.com/wp-sync-db">wp-sync plugin</a>. As the developer mentions on <a href="http://wp-sync-db.github.io">the projects github info page</a>, WP Sync DB is a copyleft clone of the paid-for <a href="https://deliciousbrains.com/wp-migrate-db-pro">WP Migrate DB Pro</a> developed by delicious brains. The plugin facilitates database migrations. It allows to you to sync your databases in either direction, push or pull from whatever server you are from. It also has a great find and replace function that will be used when updating URLs when syncing from one environment to another.</p>

<p>Cool. After you commit your local changes and push them to your remote repository you can go to your staging server and clone down the project.</p>

<p>Now you have the same files in both locations but you only have a database on your local installation. Set up a database for your staging server installation and configure a wp-config.php file to link the WP site to it. Now you have a functional WP site in both locations although their databases aren&rsquo;t synced.</p>

<p>Now all you have to do is access the wp-sync tool dashboard, link to your remote server with the provided connection ID, make your needed string substitutions (find&amp;replace), and push your database! There are a range of options available when setting up your migration. For example, you could choose to only migrate certain tables or make a backup before you began the migration.</p>

<p>This could be adjusted easily for the reverse situation. You have an existing site online that you want to set up locally for development. You would install a blank WP site on your staging server, install your wp-sync-db plugin on both sites, pull down the database from your live server onto your staging server, then do the same process down to your local machine making the necessary configuration changes as needed. Once you get through the initial setup the migrations are painless.</p>

<p>Once you&rsquo;re using wp-cli there are fewer reason to use git to deploy a WP core. A potential use case: Your host will allow you to pull down a git project but you don&rsquo;t have access to the wp-cli tool. Whatever. If you wanted to just track your theme dev then you could just set up a git repo for that folder.</p>

    </div>

    <footer>
        <ul class="stats">
    
        

        
        
            <li>
                
                
                    

                    

                    
                    

                    

                    
                        Category
                    
                
            </li>
        
    

    
    
        <li><a href='/journal/categories/tech'>Tech</a></li>
    
</ul>

    </footer>
</article>
<ul class="actions pagination">
    
        <li><a href="https://jmnofziger.github.io/journal/post/init-sopping-up-the-mess/"
                class="button big previous">Initiate Planning Sequence: Sopping Up The Mess</a></li>
    

    
        <li><a href="https://jmnofziger.github.io/journal/post/improving-arch-aur-installs/"
                class="button big next">improving arch aur installs</a></li>
    
</ul>



    
        <article class="post">
            <div id="disqus_thread"></div>
<script type="text/javascript">
    var disqus_shortname = 'simjmn';
    var disqus_identifier = 'https:\/\/jmnofziger.github.io\/journal\/post\/wordpress-database-syncing\/';
    var disqus_title = 'wordpress database syncing\/migration';
    var disqus_url = 'https:\/\/jmnofziger.github.io\/journal\/post\/wordpress-database-syncing\/';

    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
        </article>
    


    </div>
    
<section id="sidebar">

    
        <section id="intro">
            
            
                
                    <img src="https://jmnofziger.github.io/images/jacob-nofziger-linkedin.jpg" class="intro-circle" width="100px" alt="Jacob smiles with coffee" />
                
            
            
                <header>
                    <h2>Jacob Maldonado Nofziger</h2>
                    <p>Seattle | Washington</p>
                    <p>Web development, system administration, and the odyssey of continuing studies.</p>
                </header>
            
            <ul class="icons">
                
                
                    
<li><a href="//github.com/jmnofziger" target="_blank" title="GitHub" class="fa fa-github"></a></li>



































<li><a href="//linkedin.com/in/jmnofziger" target="_blank" title="LinkedIn" class="fa fa-linkedin"></a></li>

















<li><a href="mailto:jacob.nofziger@gmail.com" title="Email" class="fa fa-envelope"></a></li>


                
            </ul>
        </section>

    

    
    

    

    
        
        <section class="blurb">
            <h2>About</h2>
            <p>Jacob grew up on a pig farm and he didn&#39;t think it was all that bad. However, Jacob really likes learning new things so he left the pig farm, got a bachelors degree in biology, and has worked in web development and system admistration roles since then. He enjoys listening to music, reading about technology, and drinking coffee with friends. Blog powered by Hugo.</p>

            <ul class="actions">
                <li><a href="https://jmnofziger.github.io/" class="button">Learn More</a></li>
            </ul>
        </section>
        

    
        <section id="footer">
            <ul class="icons">
                
                
                    
<li><a href="//github.com/jmnofziger" target="_blank" title="GitHub" class="fa fa-github"></a></li>



































<li><a href="//linkedin.com/in/jmnofziger" target="_blank" title="LinkedIn" class="fa fa-linkedin"></a></li>

















<li><a href="mailto:jacob.nofziger@gmail.com" title="Email" class="fa fa-envelope"></a></li>


                
            </ul>

            <p class="copyright">&copy; 2017 JMNofziger. Design: <a href="http://html5up.net" target="_blank">HTML5 UP</a>. Ported by <a href="//github.com/jpescador" target="_blank">Julio Pescador</a>. Powered by <a href="//gohugo.io" target="_blank">Hugo</a></p>

        </section>

</section>

            </div>
        <a id="back-to-top" href="#" class="fa fa-arrow-up fa-border fa-2x"></a>
        

        
        
            <script src="/journal/js/jquery.min.js"></script>
            <script src="/journal/js/skel.min.js"></script>
            <script src="/journal/js/util.js"></script>
            <script src="/journal/js/main.js"></script>
            <script src="/journal/js/backToTop.js"></script>
            <script src="/journal/js/highlight.pack.js"></script>
        

        

        
        <script>hljs.initHighlightingOnLoad();</script>
        
    </body>
</html>

